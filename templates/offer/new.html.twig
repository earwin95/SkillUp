{% extends 'base.html.twig' %}

{% block title %}Cr√©er une offre{% endblock %}

{% block body %}
<div class="max-w-3xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-2xl">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-gray-800">üìù Cr√©er une nouvelle offre</h1>
    <a href="{{ path('offer_index') }}" class="text-blue-600 hover:underline">
      ‚Üê Retour aux offres
    </a>
  </div>

  <!-- Flashes -->
  {% for label, messages in app.flashes %}
    {% for message in messages %}
      <div class="mb-4 rounded-lg p-3
                  {{ label == 'success' 
                      ? 'bg-green-50 text-green-800 border border-green-200' 
                      : 'bg-red-50 text-red-800 border border-red-200' }}">
        {{ message }}
      </div>
    {% endfor %}
  {% endfor %}

  <!-- Form -->
  {{ form_start(form) }}
    <div class="space-y-5">

      <div>
        {{ form_label(form.title, null, {'label_attr': {'class': 'block text-sm font-semibold text-gray-700 mb-1'}}) }}
        {{ form_widget(form.title, {'attr': {
          'class': 'w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500'
        }}) }}
        {{ form_errors(form.title) }}
      </div>

      <div>
        {{ form_label(form.description, null, {'label_attr': {'class': 'block text-sm font-semibold text-gray-700 mb-1'}}) }}
        {{ form_widget(form.description, {'attr': {
          'class': 'w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500'
        }}) }}
        {{ form_errors(form.description) }}
      </div>

      <div>
        {{ form_label(form.skillOffered, null, {'label_attr': {'class': 'block text-sm font-semibold text-gray-700 mb-1'}}) }}
        {{ form_widget(form.skillOffered, {'attr': {
          'class': 'w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500'
        }}) }}
        {{ form_errors(form.skillOffered) }}
      </div>

      <div>
        {{ form_label(form.skillRequested, null, {'label_attr': {'class': 'block text-sm font-semibold text-gray-700 mb-1'}}) }}
        {{ form_widget(form.skillRequested, {'attr': {
          'class': 'w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500'
        }}) }}
        {{ form_errors(form.skillRequested) }}
      </div>
    </div>

    <!-- Actions -->
    <div class="mt-8 flex items-center gap-3">
      <button type="submit"
              class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-5 py-2 rounded-lg shadow transition">
        ‚úÖ Cr√©er l‚Äôoffre
      </button>
      <a href="{{ path('offer_index') }}"
         class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium px-5 py-2 rounded-lg transition">
        Annuler
      </a>
    </div>
  {{ form_end(form) }}
</div>
{% endblock %}
