{% extends 'base.html.twig' %}

{% block title %}Ajouter une comp√©tence - SkillUp{% endblock %}

{% block body %}
  <section class="hero">
    <h1 class="hero-title">
      ‚ûï Ajouter une <span>comp√©tence</span>
    </h1>
    <p class="hero-sub">
      Compl√®te ton profil et montre aux autres ce que tu sais faire ‚ú®
    </p>
  </section>

  <div class="form-card">
    {# Affichage des messages flash #}
    {% for label, messages in app.flashes %}
      {% for message in messages %}
        <div class="form-flash {{ label }}">{{ message }}</div>
      {% endfor %}
    {% endfor %}

    {{ form_start(form) }}
      {{ form_row(form.skill, {
        label: 'Comp√©tence'
      }) }}
      {{ form_row(form.level, {
        label: 'Niveau'
      }) }}
      {{ form_row(form.notes, {
        label: 'Notes compl√©mentaires'
      }) }}

      <button type="submit" class="btn btn-primary w-full mt-3">üíæ Ajouter</button>
    {{ form_end(form) }}
  </div>

  <div class="nav-links">
    <a class="btn btn-outline" href="{{ path('app_user_skills_index') }}">‚Üê Mes comp√©tences</a>
    <a class="btn btn-secondary" href="{{ path('app_home') }}">üè† Accueil</a>
  </div>

  <style>
    .form-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
      max-width: 500px;
      margin: 24px auto;
    }

    .form-card label {
      font-weight: 600;
      font-size: 14px;
      color: var(--text);
      margin-bottom: 4px;
      display: inline-block;
    }

    .form-card input,
    .form-card select,
    .form-card textarea {
      width: 100%;
      padding: .7rem .9rem;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #f9fafb;
      margin-bottom: 14px;
      transition: all .2s ease;
    }

    .form-card input:focus,
    .form-card select:focus,
    .form-card textarea:focus {
      border-color: var(--primary);
      background: #fff;
      box-shadow: 0 0 0 4px var(--ring);
      outline: none;
    }

    .form-card .btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      padding: .7rem 1.2rem;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      transition: 0.2s ease;
    }
    .form-card .btn-primary {
      background: var(--primary);
      color: #fff;
      border: none;
    }
    .form-card .btn-primary:hover {
      filter: brightness(.95);
    }

    .form-flash {
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 15px;
      font-size: 14px;
    }
    .form-flash.success { background: #ecfdf5; color: #065f46; border: 1px solid #34d399; }
    .form-flash.error   { background: #fef2f2; color: #991b1b; border: 1px solid #fca5a5; }

    .nav-links {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 16px;
    }
    .btn-outline {
      border: 1px solid var(--border);
      padding: .6rem 1rem;
      border-radius: 8px;
      font-size: 14px;
      color: var(--text);
      background: transparent;
      transition: all .2s ease;
    }
    .btn-outline:hover {
      background: var(--border);
    }
    .btn-secondary {
      background: #e5e7eb;
      border-radius: 8px;
      padding: .6rem 1rem;
      font-size: 14px;
      color: #111;
    }
  </style>
{% endblock %}
